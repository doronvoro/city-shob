<div class="filter-bar">
  <!-- Search Input -->
  <mat-form-field appearance="outline" class="search-field">
    <mat-label>Search tasks</mat-label>
    <input
      matInput
      type="text"
      [formControl]="searchQueryControl"
      placeholder="Search by title or description..."
      autocomplete="off">
    <mat-icon matPrefix>search</mat-icon>
    <button
      *ngIf="searchQueryControl.value"
      matSuffix
      mat-icon-button
      (click)="clearSearch()"
      matTooltip="Clear search"
      type="button">
      <mat-icon>close</mat-icon>
    </button>
  </mat-form-field>

  <!-- Filter Controls -->
  <div class="filter-controls">
    <!-- Priority Filter -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Priority</mat-label>
      <mat-select [formControl]="priorityControl">
        <mat-option *ngFor="let priority of priorities" [value]="priority.value">
          {{ priority.label }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Status Filter -->
    <mat-form-field appearance="outline" class="filter-field">
      <mat-label>Status</mat-label>
      <mat-select [formControl]="statusControl">
        <mat-option *ngFor="let status of statusOptions" [value]="status.value">
          {{ status.label }}
        </mat-option>
      </mat-select>
    </mat-form-field>

    <!-- Clear Filters Button -->
    <button
      *ngIf="hasActiveFilters()"
      mat-stroked-button
      class="clear-filters-btn"
      (click)="clearFilters()"
      matTooltip="Clear all filters"
      type="button">
      <mat-icon>clear_all</mat-icon>
      <span class="btn-text">Clear</span>
    </button>
  </div>
</div>
